<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<title>NEWS</title>
<style>
body {background-color:#F4ECD8;color:#3B2D20;font-size:1.4rem}
.content{display:none;cursor:pointer}
.sepia{background-color:#F4ECD8;color:#3B2D20}
.sepia-contrast{background-color:#3B2D20;color:#F4ECD8}
h1,h2,h3,h4,h5,h6,.title{font-size:1.4rem;color:#3B2D20 !important;font-weight:bold}
a{word-wrap:break-word;white-space:normal;overflow-wrap:break-word;word-break:break-word}
h1 a {color: navy; font-weight: bold; text-decoration:none;cursor:pointer}
.fs10, figcaption{font-size:1rem}
img{display:block !important;margin:auto;width:100%;height:auto}
@media (min-width:768px){
  @font-face{font-family:"Microsoft JhengHei Bold" !important;src:local("Microsoft JhengHei Bold") !important;font-weight:bold !important;unicode-range:U+4E00-9FFF !important}
  body {background-color:#F4ECD8;color:#3B2D20;font-size:1.2rem;font-family:arial,'Microsoft JhengHei Bold', sans-serif !important}
  #list{font-weight:bold}
  h1,h2,h3,h4,h5,h6,.title{font-size:1.2rem;color:#3B2D20 !important;font-weight:bold}
}
</style>
</head>
<body>
<div style="max-width:600px;margin:auto">
<button type="button" class="sticky-top m-2 btn btn-light position-fixed top-0 end-0 sepia-contrast opacity-25" style="z-index:1030" onclick="openOptions()">
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-list" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"/>
  </svg>
</button>
  <form id="btn-group" class="py-2 sticky-top container-fluid justify-content-start overflow-auto sepia-contrast" style="max-height:100vh">
    <div>${btn}</div>
    <div class="input-group mb-3">
      <input type="text" id="search-term" class="form-control">
      <button class="btn sepia" type="button" id="search-btn" onclick="searchResults()">Search</button>
    </div>
  </form>
<div id="list" class="mx-3 pt-3">
</div>
</div>

<script>

const proxyUrl = 'https://03e71654-f945-4524-a155-377d4f2b1a6e-00-2rayym3jder48.sisko.replit.dev/api/fetch?url=';

  
async function getList(url){
  var res=await fetch(url);
  var str=await res.json();
  console.log(str);
}
    
const url = 'https://today.line.me/api/v6/listings/80dd887e-a412-4ab5-9d69-c89960b5c27b?country=tw&offset=0&length=6';
const method = 'GET';
const paramStr = '';


const output = document.getElementById('output');
output.textContent = "Fetching...";

if (method === "GET") {
  const fullUrl = `${proxyUrl}?url=${url}`;
  getList(fullUrl);

} else {
  const formData = new URLSearchParams();
  formData.append('url', url);

  // Add user-provided params
  paramStr.split(',').forEach(pair => {
    const [key, value] = pair.split('=');
    if (key && value) formData.append(key.trim(), value.trim());
  });

  fetch(proxyUrl + '?url=' + url, {
    method: 'POST',
    body: formData
  })
  .then(res => res.text())
  .then(data => output.textContent = data)
  .catch(err => output.textContent = 'Error: ' + err);
}

</script>
</body>
</html>
